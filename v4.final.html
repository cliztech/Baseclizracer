<!DOCTYPE html> 

<html lang="en">
<head>
  <title>Base Racers - v4 (final)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="common.css" rel="stylesheet" type="text/css" />
</head> 

<body> 

  <a class="skip-link" href="#racer">Skip to game</a>

  <table id="controls">
    <tr>
      <td colspan="2">
        <a href='v1.straight.html'>straight</a> |
        <a href='v2.curves.html'>curves</a>     |
        <a href='v3.hills.html'>hills</a>       |
        <a href='v4.final.html' aria-current="page">final</a>
      </td>
    </tr>
    <tr><td id="fps" colspan="2" align="right"></td></tr>
    <tr>
      <th><label for="resolution">Resolution :</label></th>
      <td>
        <select id="resolution" style="width:100%">
          <option value='fine'>Fine (1280x960)</option>
          <option selected value='high'>High (1024x768)</option>
          <option value='medium'>Medium (640x480)</option>
          <option value='low'>Low (480x360)</option>
        </select>
      </td>
    </tr>
    <tr>
      <th><label for="lanes">Lanes :</label></th>
      <td>
        <select id="lanes">
          <option>1</option>
          <option>2</option>
          <option selected>3</option>
          <option>4</option>
        </select>
      </td>
    </tr>
    <tr>
      <th><label for="roadWidth">Road Width (<span id="currentRoadWidth"></span>) :</label></th>
      <td><input id="roadWidth" type='range' min='500' max='3000' title="integer (500-3000)"></td>
    </tr>
    <tr>
      <th><label for="cameraHeight">CameraHeight (<span id="currentCameraHeight"></span>) :</label></th>
      <td><input id="cameraHeight" type='range' min='500' max='5000' title="integer (500-5000)"></td>
    </tr>
    <tr>
      <th><label for="drawDistance">Draw Distance (<span id="currentDrawDistance"></span>) :</label></th>
      <td><input id="drawDistance" type='range' min='100' max='500' title="integer (100-500)"></td>
    </tr>
    <tr>
      <th><label for="fieldOfView">Field of View (<span id="currentFieldOfView"></span>) :</label></th>
      <td><input id="fieldOfView" type='range' min='80' max='140' title="integer (80-140)"></td>
    </tr>
    <tr>
      <th><label for="fogDensity">Fog Density (<span id="currentFogDensity"></span>) :</label></th>
      <td><input id="fogDensity" type='range' min='0' max='50' title="integer (0-50)"></td>
    </tr>
    <tr>
      <th><label for="simulatedLatency">Network Latency (<span id="currentSimulatedLatency"></span>ms) :</label></th>
      <td><input id="simulatedLatency" type='range' min='0' max='1000' step='50' value="0" title="integer (0-1000)"></td>
    </tr>
    <tr>
      <th><label for="smoothing">Net Smoothing (<span id="currentSmoothing"></span>) :</label></th>
      <td><input id="smoothing" type='range' min='1' max='30' value="10" title="integer (1-30)"></td>
    </tr>
    <tr>
      <th>Actions :</th>
      <td><button id="restart" aria-keyshortcuts="r">Restart Race</button><button id="resetSettings">Reset Settings</button></td>
    </tr>
  </table>

  <div id='instructions'>
    <p>Use <kbd>↑</kbd> <kbd>↓</kbd> <kbd>←</kbd> <kbd>→</kbd> or <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd> to drive.</p>
    <p>Press <kbd>R</kbd> to restart.</p>
    <p>Press <kbd>Enter</kbd> to chat.</p>
  </div>

  <div id="racer" tabindex="0" aria-label="Game screen">
    <div id="hud">
      <span id="speed"            class="hud"><span id="speed_value" class="value">0</span> mph</span>
      <span id="current_lap_time" class="hud">Time: <span id="current_lap_time_value" class="value">0.0</span></span>
      <span id="last_lap_time"    class="hud">Last Lap: <span id="last_lap_time_value" class="value">0.0</span></span>
      <span id="fast_lap_time"    class="hud">Fastest Lap: <span id="fast_lap_time_value" class="value">0.0</span></span>
      <span id="tx_status" class="hud"></span>
      <span id="latency"          class="hud">Ping: <span id="latency_value" class="value">0</span>ms</span>
    </div>
    <canvas id="canvas">
      Sorry, this example cannot be run because your browser does not support the &lt;canvas&gt; element
    </canvas>

    <form id="chat" action="#">
      <ul id="chat_messages" aria-live="polite" role="log"></ul>
      <label for="chat_input" class="visually-hidden">Chat message</label>
      <input type="text" id="chat_input" placeholder="Press Enter to chat..." maxlength="140" autocomplete="off">
      <button type="submit" hidden>Send</button>
    </form>

    <div id="loading"><span class="spinner"></span>Loading...</div>

    <form id="login" autocomplete="on">
      <h2>DRIVER'S LICENSE</h2>
      <div class="field">
        <label for="input_name">CALL SIGN</label>
        <input type="text" id="input_name" name="nickname" maxlength="12" placeholder="MAVERICK" value="Racer X" autocomplete="nickname">
      </div>
      <div class="field">
        <label for="input_room">FREQUENCY</label>
        <input type="text" id="input_room" name="room" maxlength="12" placeholder="DEFAULT" value="default" autocomplete="off">
      </div>
      <div id="room_browser">
        <h3>DETECTED FREQUENCIES</h3>
        <ul id="room_list"></ul>
      </div>
      <button id="btn_join" type="submit">IGNITE ENGINE</button>
    </form>
  </div>

  <audio id='music'>
    <source src="music/racer.ogg">
    <source src="music/racer.mp3">
  </audio>
  <button id="mute" type="button" aria-label="Mute music"></button>

  <script src="stats.js"></script>
  <script type="module" src="v4.final.js"></script>

</body> 
</html>
